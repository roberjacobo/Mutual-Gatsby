{"version":3,"sources":["webpack:///./src/redux/actions/employee.js","webpack:///./src/images/user.png","webpack:///./src/components/login.jsx","webpack:///./src/pages/loginPage.jsx"],"names":["loginIn","data","type","LOGIN","payload","headers","login","loginData","dispatch","a","loginObj","url","method","axios","response","logout","LOGOUT","module","exports","schema","yup","Correo","required","Contrasenia","connect","state","employees","bindActionCreators","Actions","useState","values","setValues","useEffect","ok","console","log","navigate","handleChange","event","preventDefault","target","name","value","sendData","className","src","user","alt","validationSchema","onSubmit","initialValues","handleBlur","touched","isValid","errors","Form","noValidate","InputGroup","Prepend","Text","FormControl","onChange","Button","variant","to","LoginPage"],"mappings":"oQAGMA,EAAU,SAAAC,GAAI,MAAK,CACvBC,KAAMC,IACNC,QAASH,IAOLI,EAAU,CACd,eAAgB,oBAGLC,EAAQ,SAAAC,GAAS,8CAAI,WAAMC,GAAN,mBAAAC,EAAA,6DAC1BC,EAAW,CACfC,IAAK,oDACLC,OAAQ,OACRP,UACAJ,KAAMM,GALwB,SAOTM,IAAMH,GAPG,cAO1BI,EAP0B,OAQxBb,EAASa,EAATb,KACRO,EAASR,EAAQC,IATe,kBAUzBa,GAVyB,2CAAJ,uDAajBC,EAAS,yDAAM,WAAMP,GAAN,SAAAC,EAAA,+EAAkBD,EArBxB,CACpBN,KAAMc,OAoBoB,2CAAN,wD,qBC7BtBC,EAAOC,QAAU,IAA0B,oD,2RCmBrCC,EAASC,IAAW,CACxBC,OAAQD,MAAaE,WACrBC,YAAaH,MAAaE,aAkHbE,eARS,SAAAC,GACtB,MAAO,CACLC,UAAWD,EAAMC,UAAUA,cAIJ,SAAAlB,GAAQ,OAAImB,YAAmBC,EAASpB,KAEpDgB,EA/GD,SAAC,GAA0B,IAAxBlB,EAAuB,EAAvBA,MAAOoB,EAAgB,EAAhBA,UAAgB,EAEVG,mBAAS,CACnCR,OAAQ,GACRE,YAAa,KAFRO,EAF+B,KAEvBC,EAFuB,KAOtCC,qBAAU,WAAO,IACPC,EAAOP,EAAPO,GACRC,QAAQC,IAAIT,GACRO,GACFG,mBAAS,aAEV,CAACV,IAIJ,IAAMW,EAAe,SAACC,GAAW,IAAD,EAC9BA,EAAMC,iBACNR,EAAU,OAAD,UACJD,IADI,MAENQ,EAAME,OAAOC,MAAOH,EAAME,OAAOE,MAF3B,MAMLC,EAAW,SAAAL,GACfA,EAAMC,iBACNjC,EAAMwB,IAIR,OACE,oCACE,yBAAKc,UAAU,mBACb,yBAAKA,UAAU,SACb,6BACE,yBAAKA,UAAU,WAAWC,IAAKC,IAAMC,IAAI,UAE3C,oCACE,kBAAC,IAAD,CACEC,iBAAkB7B,EAClB8B,SAAUN,EACVO,cAAe,CACb7B,OAAQ,GACRE,YAAa,MAGd,cACC4B,WADD,EAECC,QAFD,EAGCC,QAHD,EAICC,OAJD,OAMG,kBAACC,EAAA,EAAD,CAAMC,YAAU,EAACP,SAAUN,GACzB,kBAACc,EAAA,EAAD,CAAYb,UAAU,QACpB,kBAACa,EAAA,EAAWC,QAAZ,KACE,kBAACD,EAAA,EAAWE,KAAZ,gBAEF,kBAACC,EAAA,EAAD,CACE1D,KAAK,OACLuC,KAAK,SACLC,MAAOZ,EAAOT,OACdwC,SAAUxB,KAGd,6BACA,kBAACoB,EAAA,EAAD,CAAYb,UAAU,QACpB,kBAACa,EAAA,EAAWC,QAAZ,KACE,kBAACD,EAAA,EAAWE,KAAZ,oBAEF,kBAACC,EAAA,EAAD,CACE1D,KAAK,WACLuC,KAAK,cACLC,MAAOZ,EAAOP,YACdsC,SAAUxB,KAGd,6BAEA,yBAAKO,UAAU,oBACb,kBAACkB,EAAA,EAAD,CACE5D,KAAK,SACL6D,QAAQ,UACRnB,UAAU,YAHZ,WAOA,kBAAC,OAAD,CAAMoB,GAAG,KACP,kBAACF,EAAA,EAAD,CAAQC,QAAQ,SAASnB,UAAU,WAAnC,yBCxGT,SAASqB,IACtB,OACE,oCACE,kBAAC,IAAD,MACA,kBAAC,EAAD,MACA,kBAAC,IAAD,S","file":"component---src-pages-login-page-jsx-9a791655d0f13b146da0.js","sourcesContent":["import { LOGIN, LOGOUT } from \"../actionTypes\"\r\nimport axios from \"axios\"\r\n\r\nconst loginIn = data => ({\r\n  type: LOGIN,\r\n  payload: data,\r\n})\r\n\r\nconst logOut = () => ({\r\n  type: LOGOUT,\r\n})\r\n\r\nconst headers = {\r\n  \"Content-Type\": \"application/json\",\r\n}\r\n\r\nexport const login = loginData => async dispatch => {\r\n  const loginObj = {\r\n    url: \"http://localhost:3000/api/login\",\r\n    method: \"POST\",\r\n    headers,\r\n    data: loginData,\r\n  }\r\n  const response = await axios(loginObj)\r\n  const { data } = response\r\n  dispatch(loginIn(data))\r\n  return response\r\n}\r\n\r\nexport const logout = () => async dispatch => dispatch(logOut())\r\n","module.exports = __webpack_public_path__ + \"static/user-8deb265e9eae69e57d43b9e5a946c8c9.png\";","import React, { useState, useEffect } from \"react\"\r\nimport { Link, navigate } from \"gatsby\"\r\n\r\n\r\nimport { connect } from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport * as Actions from \"../redux/actions/employee\"\r\n\r\nimport user from \"../images/user.png\"\r\n\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport FormControl from \"react-bootstrap/FormControl\"\r\nimport Button from \"react-bootstrap/Button\"\r\n\r\nimport * as yup from \"yup\"\r\nimport { Formik } from \"formik\"\r\n\r\nimport Form from \"react-bootstrap/Form\"\r\n\r\nconst schema = yup.object({\r\n  Correo: yup.string().required(),\r\n  Contrasenia: yup.string().required(),\r\n})\r\n\r\nconst Login = ({ login, employees }) => {\r\n  //Inicializa el estado que se enviará con cadenas vacías\r\n  const [values, setValues] = useState({\r\n    Correo: '',\r\n    Contrasenia: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    const { ok } = employees\r\n    console.log(employees)\r\n    if (ok) {\r\n      navigate('/mutual')\r\n    }\r\n  }, [employees]);\r\n\r\n\r\n  //Función que vigila el cambio de estado del formulario\r\n  const handleChange = (event) => {\r\n    event.preventDefault()\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    })\r\n  }\r\n\r\n  const sendData = event => {\r\n    event.preventDefault()\r\n    login(values)\r\n    // call actions\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"login-container\">\r\n        <div className=\"login\">\r\n          <div>\r\n            <img className=\"img-User\" src={user} alt=\"user\" />\r\n          </div>\r\n          <>\r\n            <Formik\r\n              validationSchema={schema}\r\n              onSubmit={sendData}\r\n              initialValues={{\r\n                Correo: '',\r\n                Contrasenia: '',\r\n              }}\r\n            >\r\n              {({\r\n                handleBlur,\r\n                touched,\r\n                isValid,\r\n                errors,\r\n              }) => (\r\n                  <Form noValidate onSubmit={sendData}>\r\n                    <InputGroup className=\"cl-2\">\r\n                      <InputGroup.Prepend>\r\n                        <InputGroup.Text>Correo</InputGroup.Text>\r\n                      </InputGroup.Prepend>\r\n                      <FormControl\r\n                        type=\"text\"\r\n                        name=\"Correo\"\r\n                        value={values.Correo}\r\n                        onChange={handleChange}\r\n                      />\r\n                    </InputGroup>\r\n                    <br />\r\n                    <InputGroup className=\"cl-2\">\r\n                      <InputGroup.Prepend>\r\n                        <InputGroup.Text>Contraseña</InputGroup.Text>\r\n                      </InputGroup.Prepend>\r\n                      <FormControl\r\n                        type=\"password\"\r\n                        name=\"Contrasenia\"\r\n                        value={values.Contrasenia}\r\n                        onChange={handleChange}\r\n                      />\r\n                    </InputGroup>\r\n                    <br />\r\n\r\n                    <div className=\"button-container\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        variant=\"success\"\r\n                        className=\"btnVerde\"\r\n                      >\r\n                        Aceptar\r\n                    </Button>\r\n                      <Link to=\"/\">\r\n                        <Button variant=\"danger\" className=\"btnRojo\">\r\n                          Cancelar\r\n                      </Button>\r\n                      </Link>\r\n                    </div>\r\n                  </Form>\r\n                )}\r\n            </Formik>\r\n          </>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    employees: state.employees.employees,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators(Actions, dispatch)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n","import React from \"react\"\r\n\r\nimport \"../styles/login.css\"\r\n\r\nimport Header from \"../components/header\"\r\nimport Footer from \"../components/footer\"\r\nimport Login from \"../components/login\"\r\n\r\nexport default function LoginPage() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Login />\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n"],"sourceRoot":""}